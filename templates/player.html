<!DOCTYPE html>
<html>

<head>
<link rel="stylesheet" href="../static/style.css">
<link rel="shortcut icon" type="image/png" href="../static/tv.png"/>
<title>STB Proxy</title>
</head>

<body>

<div class="logobar">
<img src="../static/tv.png" alt="logo" class="logo">
<h4 class ="title">STB Proxy</h4>
<a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=62MYXSBT75D4E" target="_blank"><img src="../static/beer.png" alt="donate" class="donate"></a>
<a href="https://github.com/Chris230291/STB-Proxy" target="_blank"><img src="../static/github.png" alt="github" class="github"></a>
</div>
<br>
<div class="topnav">
<a href="/portals">Portals</a>
<a href="/editor">Playlist Editor</a>
<a class="active" href="/player">Player</a>
</div>

<br>

<video height="300px" id="player" controls>
<source src="" type="video/mp4">
Your browser does not support HTML video.
</video>

<br>
<br>

<table>
<tr>
<th>Channel</th>
<th>Now</th>
<th>Next</th>
</tr>
{% if channels|length > 0 %}
{% for channel in channels %}
<tr>
<td width="1%"><input type="button" value="{{ channel['name'] }}" onclick="selectChannel(this)" data-link="{{ channel['link'] }}" style="width:100%" style="width:100%;height:100%"></td>
<td>{{ channel['now'] }}</td>
<td>{{ channel['next'] }}</td>
</tr>
{% endfor %}
{% else %}
<td colspan="4" style="text-align:center">No enabled channels! Go to the playlist editor, enable some channels then come back.</td>
{% endif %}
</table>

<script>
var player = document.getElementById("player")

function selectChannel(ele) { 
var link = ele.getAttribute('data-link');
player.src = link;
player.play();
}

</script>

</body>

</html> 
